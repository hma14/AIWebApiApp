{"ast":null,"code":"'use strict';\n\nvar _interopRequireWildcard = function (obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n};\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.load = load;\nexports.ls = ls;\nexports.install = install;\nvar _npm = require('npm');\nvar _npm2 = _interopRequireWildcard(_npm);\nvar _import = require('underscore');\nvar _import2 = _interopRequireWildcard(_import);\nvar _Promise = require('bluebird');\nvar _Promise2 = _interopRequireWildcard(_Promise);\nvar config = {\n  loglevel: 'silent',\n  parseable: true\n};\nfunction load() {\n  return new _Promise2['default'](function (res, rej) {\n    _npm2['default'].load(config, function (err, n) {\n      if (err) return rej(err);\n      return res(n);\n    });\n  });\n}\nfunction ls() {\n  return load().then(function (npmInstance) {\n    return new _Promise2['default'](function (res, rej) {\n      npmInstance.commands.ls([], true, function (err, modules) {\n        if (err) return rej(err);\n        return res(modules);\n      });\n    });\n  });\n}\nfunction install(modules, dir) {\n  return load().then(function (n) {\n    return new _Promise2['default'](function (res, rej) {\n      if (!_import2['default'].isArray(modules)) return rej(new Error('Modules name must be array'));\n      var params = dir ? [dir, modules, callback] : [modules, callback];\n      return n.commands.install.apply(n, params);\n      function callback(err, result) {\n        if (err) {\n          return rej(err);\n        }\n        return res(result);\n      }\n    });\n  });\n}","map":{"version":3,"names":["load","ls","install","config","loglevel","parseable","_Promise2","res","rej","_npm2","err","n","then","npmInstance","commands","modules","dir","_import2","isArray","Error","params","callback","apply","result"],"sources":["E:\\programs\\AI programs\\AIMessageApp\\frontend\\node_modules\\pkghub-render\\node_modules\\pkghub\\libs\\npm.js"],"sourcesContent":["import npm from 'npm'\nimport _ from 'underscore'\nimport Promise from 'bluebird'\n\nconst config = {\n  loglevel: 'silent',\n  parseable: true\n}\n\nexport function load() {\n  return new Promise((res, rej) => {\n    npm.load(config, (err, n) => {\n      if (err)\n        return rej(err)\n\n      return res(n)\n    })\n  })\n}\n\nexport function ls() {\n  return load().then(npmInstance => {\n    return new Promise((res, rej) => {\n      npmInstance.commands.ls([], true, (err, modules) => {\n        if (err)\n          return rej(err)\n\n        return res(modules)\n      })\n    })\n  })\n}\n\nexport function install(modules, dir) {\n  return load().then(n => {\n    return new Promise((res, rej) => {\n      if (!_.isArray(modules)) \n        return rej(new Error('Modules name must be array'))\n\n      const params = dir ? \n        [ dir, modules, callback ] : \n        [ modules, callback ];\n\n      return n.commands.install.apply(n, params)\n\n      function callback(err, result) {\n        if (err)\n          return rej(err)\n\n        return res(result)\n      }\n    })\n  })\n}\n"],"mappings":";;;;;;;;;;QASgBA,IAAI,GAAJA,IAAI;QAWJC,EAAE,GAAFA,EAAE;QAaFC,OAAO,GAAPA,OAAO;mBAjCP,KAAK;;sBACP,YAAY;;uBACN,UAAU;;AAE9B,IAAMC,MAAM,GAAG;EACbC,QAAQ,EAAE,QAAQ;EAClBC,SAAS,EAAE;CACZ;AAEM,SAASL,IAAIA,CAAA,EAAG;EACrB,OAAO,IAAAM,SAAA,YAAY,UAACC,GAAG,EAAEC,GAAG,EAAK;IAC/BC,KAAA,YAAIT,IAAI,CAACG,MAAM,EAAE,UAACO,GAAG,EAAEC,CAAC,EAAK;MAC3B,IAAID,GAAG,EACL,OAAOF,GAAG,CAACE,GAAG,CAAC;MAEjB,OAAOH,GAAG,CAACI,CAAC,CAAC;KACd,CAAC;GACH,CAAC;;AAGG,SAASV,EAAEA,CAAA,EAAG;EACnB,OAAOD,IAAI,EAAE,CAACY,IAAI,CAAC,UAAAC,WAAW,EAAI;IAChC,OAAO,IAAAP,SAAA,YAAY,UAACC,GAAG,EAAEC,GAAG,EAAK;MAC/BK,WAAW,CAACC,QAAQ,CAACb,EAAE,CAAC,EAAE,EAAE,IAAI,EAAE,UAACS,GAAG,EAAEK,OAAO,EAAK;QAClD,IAAIL,GAAG,EACL,OAAOF,GAAG,CAACE,GAAG,CAAC;QAEjB,OAAOH,GAAG,CAACQ,OAAO,CAAC;OACpB,CAAC;KACH,CAAC;GACH,CAAC;;AAGG,SAASb,OAAOA,CAACa,OAAO,EAAEC,GAAG,EAAE;EACpC,OAAOhB,IAAI,EAAE,CAACY,IAAI,CAAC,UAAAD,CAAC,EAAI;IACtB,OAAO,IAAAL,SAAA,YAAY,UAACC,GAAG,EAAEC,GAAG,EAAK;MAC/B,IAAI,CAACS,QAAA,YAAEC,OAAO,CAACH,OAAO,CAAC,EACrB,OAAOP,GAAG,CAAC,IAAIW,KAAK,CAAC,4BAA4B,CAAC,CAAC;MAErD,IAAMC,MAAM,GAAGJ,GAAG,GAChB,CAAEA,GAAG,EAAED,OAAO,EAAEM,QAAQ,CAAE,GAC1B,CAAEN,OAAO,EAAEM,QAAQ,CAAE;MAEvB,OAAOV,CAAC,CAACG,QAAQ,CAACZ,OAAO,CAACoB,KAAK,CAACX,CAAC,EAAES,MAAM,CAAC;MAE1C,SAASC,QAAQA,CAACX,GAAG,EAAEa,MAAM,EAAE;QAC7B,IAAIb,GAAG;UACL,OAAOF,GAAG,CAACE,GAAG,CAAC;;QAAA,OAEVH,GAAG,CAACgB,MAAM,CAAC;;KAErB,CAAC;GACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}